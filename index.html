<!DOCTYPE html>
<html ng-app='jokeApp'>
    <head>
        <script src="//code.jquery.com/jquery-1.11.2.min.js"></script>
        <script src="//code.jquery.com/jquery-migrate-1.2.1.min.js"></script>        
        <!-- Latest compiled and minified CSS -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
        
        <!-- Optional theme -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap-theme.min.css">
        
        <!-- Latest compiled and minified JavaScript -->
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
        <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular.min.js"></script>
        <script type="text/javascript" src="app.js"></script>
        <link rel="stylesheet" href="main.css" type="text/css" />
        <title>JOT</title>
    </head>
    <body>
        <div id='wrapper' ng-controller='jokeController as jokeCtrl'>
          <div ng-controller = 'panelController as panelCtrl'>
            <div id='contents' ng-repeat='joke in jokeCtrl.jokes'>
            <div class="panel panel-default" ng-click='panelCtrl.panelClick(joke.num)'>
              <!-- Default panel contents -->
              <div class="panel-heading"></div>
              <div class="panel-body">
                <span class="glyphicon glyphicon-plus , pull-right" aria-hidden="true"></span>
                <h4>{{joke.setup.text}}</h4>
                <p class='pull-right'>~ {{joke.setup.author}}</p>
                    &nbsp; 
              </div>
            
              <!-- List group -->
              <ul class="list-group" ng-repeat='punchline in joke.punchline'>
                <li class="list-group-item">
                    <h5>{{punchline.text}}</h5>
                    <p class='pull-right'>~ {{punchline.author}} <span class="glyphicon glyphicon-chevron-down" aria-hidden="true"></span> <span class="glyphicon glyphicon-chevron-up" aria-hidden="true"></span></p>
                    &nbsp;                
                </li>
              </ul>
            </div> 
            <div class="panel panel-default" ng-show='panelCtrl.isPanel(joke.num)'>
              <div class="panel-body">
            <textarea class="form-control" rows="3"></textarea>

              </div>
              <div class="panel-footer">
                <button type="button" class="btn btn-success">Add</button> 
                &nbsp;
              </div>
            </div>
          </div>
        </div>
        </div>
    </body>
</html>